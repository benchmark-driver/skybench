:ruby
  require 'json'
  require 'yaml'

  yaml = File.expand_path('../../results/mjit_releases.yml', __dir__)
  data = YAML.load_file(yaml)

  results  = data.fetch('results')

.benchmark_page
  .text-center
    %h1 MJIT Benchmarks

    = link_to 'benchmark-driver/mjit-benchmarks', 'https://github.com/benchmark-driver/mjit-benchmarks'

  - results.each do |name, value_by_version|
    .benchmark_graph{ id: name, 'data-versions': value_by_version.keys.to_json, 'data-values': value_by_version.values.to_json }

:javascript
  $(function () {
    $('.benchmark_graph').each(function() {
      var id = $(this).attr('id');
      Highcharts.chart(id, {
        chart: {
          type: 'column'
        },
        title: {
          text: id
        },
        yAxis: {
          title: {
            text: 'Seconds'
          }
        },
        xAxis: {
          categories: $(this).data('versions')
        },
        series: [{
          name: id,
          data: $(this).data('values')
        }]
      });
    });
  });
